{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nexport const useFeriados = () => {\n  _s();\n  const [feriados, setFeriados] = useState([]); // Cambiado para almacenar solo fechas\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const currentYear = new Date().getFullYear();\n    const years = Array.from({\n      length: currentYear - 2020 + 1\n    }, (v, k) => k + 2020);\n    Promise.all(years.map(year => fetch(`/fl/feriados/${year}`).then(response => {\n      if (!response.ok) {\n        throw new Error(\"Error de comunicacion\");\n      }\n      return response.json();\n    }).catch(error => {\n      console.error(\"Error al obtener datos:\", error);\n      setError(error.message);\n      return []; // Retorna un arreglo vacío en caso de error\n    }))).then(results => {\n      // Combina todos los feriados en un solo arreglo y extrae solo las fechas\n      const allFeriados = results.flat().map(feriado => feriado.fecha);\n      setFeriados(allFeriados);\n    }).catch(error => {\n      console.error(\"Error en la promesa:\", error);\n      setError(error.message);\n    });\n  }, []);\n  return {\n    feriados,\n    error\n  };\n};\n_s(useFeriados, \"iXIHZ8hcflHnOqHA1o4obly78R0=\");","map":{"version":3,"names":["useState","useEffect","useFeriados","_s","feriados","setFeriados","error","setError","currentYear","Date","getFullYear","years","Array","from","length","v","k","Promise","all","map","year","fetch","then","response","ok","Error","json","catch","console","message","results","allFeriados","flat","feriado","fecha"],"sources":["/home/trossi/Documentos/PROYECTOS/Chilean national holidays/feriados-chile/src/hooks/useFeriados.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Feriado } from \"../interfaces/Feriado\";\n\nexport const useFeriados = () => {\n  const [feriados, setFeriados] = useState<string[]>([]); // Cambiado para almacenar solo fechas\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    const currentYear = new Date().getFullYear();\n    const years = Array.from(\n      { length: currentYear - 2020 + 1 },\n      (v, k) => k + 2020\n    );\n\n    Promise.all(\n      years.map((year) =>\n        fetch(`/fl/feriados/${year}`)\n          .then((response) => {\n            if (!response.ok) {\n              throw new Error(\"Error de comunicacion\");\n            }\n            return response.json();\n          })\n          .catch((error) => {\n            console.error(\"Error al obtener datos:\", error);\n            setError(error.message);\n            return []; // Retorna un arreglo vacío en caso de error\n          })\n      )\n    )\n      .then((results) => {\n        // Combina todos los feriados en un solo arreglo y extrae solo las fechas\n        const allFeriados = results\n          .flat()\n          .map((feriado: Feriado) => feriado.fecha);\n        setFeriados(allFeriados);\n      })\n      .catch((error) => {\n        console.error(\"Error en la promesa:\", error);\n        setError(error.message);\n      });\n  }, []);\n\n  return { feriados, error };\n};\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAG3C,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAW,EAAE,CAAC,CAAC,CAAC;EACxD,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAAgB,IAAI,CAAC;EAEvDC,SAAS,CAAC,MAAM;IACd,MAAMO,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC;IAC5C,MAAMC,KAAK,GAAGC,KAAK,CAACC,IAAI,CACtB;MAAEC,MAAM,EAAEN,WAAW,GAAG,IAAI,GAAG;IAAE,CAAC,EAClC,CAACO,CAAC,EAAEC,CAAC,KAAKA,CAAC,GAAG,IAChB,CAAC;IAEDC,OAAO,CAACC,GAAG,CACTP,KAAK,CAACQ,GAAG,CAAEC,IAAI,IACbC,KAAK,CAAE,gBAAeD,IAAK,EAAC,CAAC,CAC1BE,IAAI,CAAEC,QAAQ,IAAK;MAClB,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;MAC1C;MACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDC,KAAK,CAAErB,KAAK,IAAK;MAChBsB,OAAO,CAACtB,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CC,QAAQ,CAACD,KAAK,CAACuB,OAAO,CAAC;MACvB,OAAO,EAAE,CAAC,CAAC;IACb,CAAC,CACL,CACF,CAAC,CACEP,IAAI,CAAEQ,OAAO,IAAK;MACjB;MACA,MAAMC,WAAW,GAAGD,OAAO,CACxBE,IAAI,CAAC,CAAC,CACNb,GAAG,CAAEc,OAAgB,IAAKA,OAAO,CAACC,KAAK,CAAC;MAC3C7B,WAAW,CAAC0B,WAAW,CAAC;IAC1B,CAAC,CAAC,CACDJ,KAAK,CAAErB,KAAK,IAAK;MAChBsB,OAAO,CAACtB,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CC,QAAQ,CAACD,KAAK,CAACuB,OAAO,CAAC;IACzB,CAAC,CAAC;EACN,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEzB,QAAQ;IAAEE;EAAM,CAAC;AAC5B,CAAC;AAACH,EAAA,CAzCWD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}